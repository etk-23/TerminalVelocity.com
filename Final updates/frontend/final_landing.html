<!DOCTYPE html>
<html>
<head>
    <title>Terminal Velocity</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <style>
        body {
            margin: 0;
            font-family: 'Outfit', sans-serif;
            color: #fff;
            background: linear-gradient(to bottom, #000000, #080C0F, #51688E);
            text-align: center;
            font-size: 20px;
            scroll-behavior: smooth;
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: #1f1f1f;
        }
        .navbar a {
            color: #fff;
            text-decoration: none;
            margin: 0 15px;
            font-weight: 700;
        }
        .navbar a:hover {
            color: #f39c12;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #1f1f1f;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content a:hover {
            background-color: #575757;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .landing-section {
            background: url('/static/landing_page.jpeg') no-repeat center center; 
            background-size: 1585px 720px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .landing-section h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 50px;
            margin: 0;
        }
        .landing-section p {
            font-size: 1.2em;
        }
        .about-section, .reviews-section, .contact-section {
            padding: 50px;
            background-color: transparent;
        }
        .about-section h2, .reviews-section h2, .contact-section h2 {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 40px;
        }
        .about-section h3 {
            text-align: center;
            margin-top: 120px;
            margin-bottom: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 30px;
        }
        .about-section p, .contact-section p {
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.6;
        }
        .reviews-section .review-card {
            background-color: #02022a;
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
        }
        .reviews-section .review-card h3 {
            margin-bottom: 10px;
            font-weight: bold;
        }
        .reviews-section .review-card p {
            font-size: 0.9em;
        }
        .reviews-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        .white-section {
            background-color: #fff;
            height: 10px;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <a href="/landing/">Terminal Velocity</a>
        </div>
        <div class="nav-links">
            <a href="/dashboard/" id="learn">Learn</a>
            <a href="#about">About Us</a>
            <a href="#contact"">Contact Us</a>
            <div class="dropdown">
                <a href="#" id="profile">Profile <i class="fas fa-caret-down"></i></a>
                <div class="dropdown-content">
                    <a href="final_login.html" onclick="handleLogout(event)">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <div class="landing-section">
        <div>
            <h1>Welcome to</h1> <h1>Terminal Velocity</h1>
            <p>Master Linux commands through an engaging and interactive game.</p>
        </div>
    </div>

    <div class="about-section" id="about">
        <h2>About Us</h2>
        <p>Terminal Velocity is designed to help students learn Linux commands in a fun and interactive way. 
            Our mission is to make learning Linux commands accessible and enjoyable for everyone. 
            Whether you are a beginner or an experienced user, our game offers a unique way to improve your skills and knowledge.</p>
        <h3>Meet The Team!</h3>
        <p>Our team is led by Elena Thomas Kochupurakal, a leader with a passion for innovation. 
            Working alongside them are our talented developers: Giribala Arun, who excels in front-end design and creating intuitive user interfaces; 
            Eesha Ajith, known for their creativity and attention to detail; and Maysa Sameer, 
            whose expertise in management and organisational skills ensures our projects are built to perfection. 
            Together, we are committed to delivering exceptional results and pushing the boundaries of what's possible.</p>
    </div>

    <div class="reviews-section" id="reviews">
        <h2>Reviews</h2>
        <div class="reviews-container">
            <div class="review-card">
                <h3>Eric Thomas</h3>
                <p>This game is a fantastic way to learn Linux commands. It's engaging and very educational.</p>
            </div>
            <div class="review-card">
                <h3>Nandana Praveen</h3>
                <p>I love how interactive and fun this game is. It has really helped me improve my Linux skills.</p>
            </div>
            <div class="review-card">
                <h3>Saleh Clarke</h3>
                <p>Terminal Velocity makes learning Linux commands so much easier and enjoyable.</p>
            </div>
            <div class="review-card">
                <h3>Wamiqa Shah</h3>
                <p>Great game! It's both fun and educational. Highly recommend it to anyone wanting to learn Linux.</p>
            </div>
            <div class="review-card">
                <h3>Arshia Khan</h3>
                <p>This game is a must-have for anyone looking to master Linux commands. It's very well designed.</p>
            </div>
            <div class="review-card">
                <h3>David Walsh</h3>
                <p>I've learned so much from this game. It's a great tool for both beginners and advanced users.</p>
            </div>
        </div>
    </div>

    <div class="contact-section" id="contact">
        <h2>Contact Us</h2>
        <p>If you have any questions or need further information, feel free to reach out to us at:</p>
        <p>Email: support@terminalvelocity.com</p>
        <p>Phone: +91 97XXX XXX12</p>
    </div>

    <div class="white-section"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCloq01uG5DFY6aTesRSwTKu4ELxkMcOGU",
            authDomain: "terminalvelocity-a7cb5.firebaseapp.com",
            projectId: "terminalvelocity-a7cb5",
            storageBucket: "terminalvelocity-a7cb5.firebasestorage.app",
            messagingSenderId: "1042215587836",
            appId: "1:1042215587836:web:ff669a1865f3c18467ac79",
            measurementId: "G-9RF6ECXXPJ"
};

        // Initialize Firebase
        try {
            if (!firebase.apps?.length) {
                window.firebaseApp = firebase.initializeApp(firebaseConfig);
                console.log('Firebase initialized successfully in landing');
            } else {
                window.firebaseApp = firebase.app();
                console.log('Firebase already initialized in landing');
            }
        } catch (error) {
            console.error('Firebase initialization error in landing:', error);
        }

        // Get CSRF token from cookie
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        async function handleLogout(event) {
            event.preventDefault();
            try {
                // Sign out from Firebase
                await firebase.auth().signOut();
                
                // Get CSRF token
                const csrftoken = getCookie('csrftoken');
                
                // Send logout request to backend
                const response = await fetch('/logout/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': csrftoken
                    },
                    credentials: 'include'
                });
                
                if (response.ok) {
                    console.log('Logout successful');
                    window.location.href = '/login/';
                } else {
                    console.error('Logout failed:', await response.text());
                    throw new Error('Logout failed');
                }
            } catch (error) {
                console.error('Error during logout:', error);
                alert('Logout failed: ' + error.message);
            }
        }

        // Check authentication state on page load
        firebase.auth().onAuthStateChanged(function(user) {
            if (!user) {
                console.log('No user logged in, redirecting to login');
                window.location.href = '/login/';
            } else {
                console.log('User is logged in:', user.email);
            }
        });
    </script>
</body>
</html>
